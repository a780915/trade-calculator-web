<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>下單計算機</title>
</head>
<body>

<h1>下單計算機</h1>
<button id="btn">測試 API</button>
<pre id="result"></pre>

<script>
document.getElementById("btn").onclick = async () => {
  try {
    const res = await fetch("https://trade-calculator-api.onrender.com/calculate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        direction: "Buy Stop",
        capital: 50000,
        risk_pct: 1,
        entry: 4347.28,
        stop: 4333.5
      })
    });
    const data = await res.json();
    document.getElementById("result").textContent =
      JSON.stringify(data, null, 2);
  } catch (e) {
    document.getElementById("result").textContent = e.toString();
  }
};
</script>

</body>
</html>
